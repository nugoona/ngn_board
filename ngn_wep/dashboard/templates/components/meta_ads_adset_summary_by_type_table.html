<section class="table-wrapper full-wide loading-check-wrapper">
  <h2 class="summary-section-title">캠페인 목표별 성과 요약</h2>

  <!-- ✅ 로딩 스피너 -->
  <div id="loadingOverlayTypeSummary" class="loading-overlay">
    <div class="spinner"></div>
    <div class="loading-text">데이터를 불러오는 중입니다...</div>
  </div>

  <!-- ✅ 테이블 + 차트 통합 wrapper -->
  <div class="product-sales-ratio-wrapper">

    <!-- ✅ 왼쪽: 테이블 영역 -->
    <div class="product-sales-ratio-table" style="flex: 0 0 60%; max-width: 60%;">
      <table id="metaAdsAdsetSummaryTable" class="data-table">
        <thead>
          <tr>
            <th>캠페인 목표</th>
            <th>지출</th>
            <th>노출당비용</th>
            <th>클릭당비용</th>
            <th>구매</th>
            <th>ROAS</th>
          </tr>
        </thead>
        <tbody>
          <!-- JS로 데이터 렌더링됨 -->
        </tbody>
      </table>
    </div>

    <!-- ✅ 오른쪽: ApexCharts 차트 영역 -->
    <div class="campaign-goal-chart-wrapper">
      <div class="campaign-goal-chart-box">
        <div class="campaign-goal-label">목표별 지출 비중</div>
        <div class="campaign-goal-chart-canvas-wrapper">
          <div id="metaAdsAdsetSummaryChart"></div>
        </div>
      </div>
    </div>

  </div>
</section>

<style>
/* ✅ ApexCharts 파이 차트 커스텀 스타일 */
.campaign-goal-chart-wrapper {
  flex: 0 0 40%;
  max-width: 40%;
  padding-left: 20px;
}

.campaign-goal-chart-box {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  height: 400px;
}

.campaign-goal-label {
  font-size: 18px;
  font-weight: 600;
  color: #374151;
  margin-bottom: 20px;
  text-align: center;
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
}

.campaign-goal-chart-canvas-wrapper {
  height: 320px;
  width: 100%;
}

#metaAdsAdsetSummaryChart {
  height: 100%;
  width: 100%;
}

/* ApexCharts 툴팁 커스터마이징 */
.apexcharts-tooltip {
  background: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 12px !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif !important;
}

.apexcharts-tooltip-title {
  background: transparent !important;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1) !important;
  font-weight: 600 !important;
  color: #374151 !important;
}

.apexcharts-legend {
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif !important;
}

.apexcharts-legend-text {
  font-weight: 500 !important;
  color: #374151 !important;
}
</style>
